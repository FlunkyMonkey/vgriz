Let's talk this through. I want to deploy a Zabbix server on a Kubernetes cluster. I have a Kubernetes cluster already set up. How do I go about this? I have the below example yaml from a github.

I want it to run using a an existing storage class, in the monitoring namespace.

What do I need to change in the below example yaml? Explain what the outcome will be.

-------------
Environment information:
-------------
mikeb@Mikes-Laptop ~ % kubectl get nodes -o wide
NAME          STATUS   ROLES                       AGE   VERSION           INTERNAL-IP     EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION       CONTAINER-RUNTIME
kube1         Ready    <none>                      76d   v1.28.11+rke2r1   172.18.232.41   <none>        Ubuntu 22.04.4 LTS   5.15.0-116-generic   containerd://1.7.17-k3s1
kube2         Ready    <none>                      76d   v1.28.11+rke2r1   172.18.232.42   <none>        Ubuntu 22.04.4 LTS   5.15.0-116-generic   containerd://1.7.17-k3s1
kube3         Ready    <none>                      76d   v1.28.11+rke2r1   172.18.232.43   <none>        Ubuntu 22.04.4 LTS   5.15.0-116-generic   containerd://1.7.17-k3s1
kubemaster1   Ready    control-plane,etcd,master   77d   v1.28.11+rke2r1   172.18.232.31   <none>        Ubuntu 22.04.4 LTS   5.15.0-116-generic   containerd://1.7.17-k3s1
kubemaster2   Ready    control-plane,etcd,master   76d   v1.28.11+rke2r1   172.18.232.32   <none>        Ubuntu 22.04.4 LTS   5.15.0-116-generic   containerd://1.7.17-k3s1
kubemaster3   Ready    control-plane,etcd,master   76d   v1.28.11+rke2r1   172.18.232.33   <none>        Ubuntu 22.04.4 LTS   5.15.0-116-generic   containerd://1.7.17-k3s1
mikeb@Mikes-Laptop ~ % kubectl get namespaces
NAME                                     STATUS   AGE
cattle-dashboards                        Active   76d
cattle-fleet-clusters-system             Active   76d
cattle-fleet-local-system                Active   76d
cattle-fleet-system                      Active   76d
cattle-global-data                       Active   76d
cattle-global-nt                         Active   76d
cattle-impersonation-system              Active   76d
cattle-monitoring-system                 Active   61d
cattle-provisioning-capi-system          Active   76d
cattle-system                            Active   76d
cert-manager                             Active   76d
cluster-fleet-local-local-1a3d67d0a899   Active   76d
default                                  Active   77d
fleet-default                            Active   76d
fleet-local                              Active   76d
kube-node-lease                          Active   77d
kube-public                              Active   77d
kube-system                              Active   77d
local                                    Active   76d
metallb-system                           Active   71d
minecraft-dad                            Active   69d
minecraft-family                         Active   69d
minecraft-momdad-v1                      Active   69d
minecraft-momdad-v2                      Active   69d
monitoring                               Active   61d
p-f9jb6                                  Active   71d
p-g5tzz                                  Active   76d
p-m457m                                  Active   68d
p-p2cvz                                  Active   76d
p-qlh8r                                  Active   69d
teslamate                                Active   3d14h
unifi                                    Active   71d
user-7xhqp                               Active   76d
mikeb@Mikes-Laptop ~ % kubectl get pods --all-namespaces -o wide
kubectl get deployments --all-namespaces
kubectl get services --all-namespaces
NAMESPACE                         NAME                                                      READY   STATUS      RESTARTS      AGE     IP              NODE          NOMINATED NODE   READINESS GATES
cattle-fleet-local-system         fleet-agent-645766877f-vhzsq                              1/1     Running     1 (63d ago)   63d     10.42.5.74      kube3         <none>           <none>
cattle-fleet-system               fleet-controller-57f78dcd48-rtxff                         1/1     Running     1 (63d ago)   66d     10.42.3.61      kube1         <none>           <none>
cattle-fleet-system               gitjob-d5bb7b548-zrm9v                                    1/1     Running     2 (63d ago)   76d     10.42.4.87      kube2         <none>           <none>
cattle-monitoring-system          alertmanager-rancher-monitoring-alertmanager-0            2/2     Running     0             61d     10.42.5.98      kube3         <none>           <none>
cattle-monitoring-system          prometheus-rancher-monitoring-prometheus-0                3/3     Running     0             61d     10.42.4.100     kube2         <none>           <none>
cattle-monitoring-system          pushprox-kube-controller-manager-client-9hvbn             1/1     Running     0             61d     172.18.232.32   kubemaster2   <none>           <none>
cattle-monitoring-system          pushprox-kube-controller-manager-client-gn8w5             1/1     Running     0             61d     172.18.232.33   kubemaster3   <none>           <none>
cattle-monitoring-system          pushprox-kube-controller-manager-client-trfw2             1/1     Running     0             61d     172.18.232.31   kubemaster1   <none>           <none>
cattle-monitoring-system          pushprox-kube-controller-manager-proxy-7bb4dc4ff5-8stlx   1/1     Running     0             61d     10.42.3.88      kube1         <none>           <none>
cattle-monitoring-system          pushprox-kube-etcd-client-2b5xp                           1/1     Running     0             61d     172.18.232.31   kubemaster1   <none>           <none>
cattle-monitoring-system          pushprox-kube-etcd-client-4vvbr                           1/1     Running     0             61d     172.18.232.33   kubemaster3   <none>           <none>
cattle-monitoring-system          pushprox-kube-etcd-client-s55cf                           1/1     Running     0             61d     172.18.232.32   kubemaster2   <none>           <none>
cattle-monitoring-system          pushprox-kube-etcd-proxy-5d7975ccc9-k4dp2                 1/1     Running     0             61d     10.42.5.97      kube3         <none>           <none>
cattle-monitoring-system          pushprox-kube-proxy-client-9vf9r                          1/1     Running     0             61d     172.18.232.33   kubemaster3   <none>           <none>
cattle-monitoring-system          pushprox-kube-proxy-client-bzz2m                          1/1     Running     0             61d     172.18.232.42   kube2         <none>           <none>
cattle-monitoring-system          pushprox-kube-proxy-client-g2lf4                          1/1     Running     0             61d     172.18.232.31   kubemaster1   <none>           <none>
cattle-monitoring-system          pushprox-kube-proxy-client-hrg27                          1/1     Running     0             61d     172.18.232.41   kube1         <none>           <none>
cattle-monitoring-system          pushprox-kube-proxy-client-rbjqf                          1/1     Running     0             61d     172.18.232.32   kubemaster2   <none>           <none>
cattle-monitoring-system          pushprox-kube-proxy-client-xhdqt                          1/1     Running     0             61d     172.18.232.43   kube3         <none>           <none>
cattle-monitoring-system          pushprox-kube-proxy-proxy-5bf969b7c5-s6whn                1/1     Running     0             61d     10.42.5.94      kube3         <none>           <none>
cattle-monitoring-system          pushprox-kube-scheduler-client-9d6k9                      1/1     Running     0             61d     172.18.232.31   kubemaster1   <none>           <none>
cattle-monitoring-system          pushprox-kube-scheduler-client-bkmhm                      1/1     Running     0             61d     172.18.232.32   kubemaster2   <none>           <none>
cattle-monitoring-system          pushprox-kube-scheduler-client-jlz8n                      1/1     Running     0             61d     172.18.232.33   kubemaster3   <none>           <none>
cattle-monitoring-system          pushprox-kube-scheduler-proxy-5bc485f55c-b8vq7            1/1     Running     0             61d     10.42.3.87      kube1         <none>           <none>
cattle-monitoring-system          rancher-monitoring-grafana-74fb4fdbd8-fzptw               4/4     Running     0             61d     10.42.3.90      kube1         <none>           <none>
cattle-monitoring-system          rancher-monitoring-kube-state-metrics-f988bf76c-vtzt8     1/1     Running     0             61d     10.42.3.89      kube1         <none>           <none>
cattle-monitoring-system          rancher-monitoring-operator-5b8c5df9b9-pp2kw              1/1     Running     0             61d     10.42.5.96      kube3         <none>           <none>
cattle-monitoring-system          rancher-monitoring-prometheus-adapter-58c44cc566-cgld4    1/1     Running     0             61d     10.42.5.95      kube3         <none>           <none>
cattle-monitoring-system          rancher-monitoring-prometheus-node-exporter-7hfc7         1/1     Running     0             61d     172.18.232.43   kube3         <none>           <none>
cattle-monitoring-system          rancher-monitoring-prometheus-node-exporter-h8g8c         1/1     Running     0             61d     172.18.232.41   kube1         <none>           <none>
cattle-monitoring-system          rancher-monitoring-prometheus-node-exporter-tcnq8         1/1     Running     0             61d     172.18.232.33   kubemaster3   <none>           <none>
cattle-monitoring-system          rancher-monitoring-prometheus-node-exporter-tph2x         1/1     Running     0             61d     172.18.232.42   kube2         <none>           <none>
cattle-monitoring-system          rancher-monitoring-prometheus-node-exporter-w7jxk         1/1     Running     0             61d     172.18.232.31   kubemaster1   <none>           <none>
cattle-monitoring-system          rancher-monitoring-prometheus-node-exporter-z4tmd         1/1     Running     0             61d     172.18.232.32   kubemaster2   <none>           <none>
cattle-provisioning-capi-system   capi-controller-manager-59587c7c74-bpwcj                  1/1     Running     2 (55d ago)   66d     10.42.3.59      kube1         <none>           <none>
cattle-system                     rancher-5875cfdb5f-6p5sd                                  1/1     Running     1 (63d ago)   66d     10.42.0.39      kubemaster1   <none>           <none>
cattle-system                     rancher-5875cfdb5f-bfhhz                                  1/1     Running     1 (63d ago)   66d     10.42.1.24      kubemaster2   <none>           <none>
cattle-system                     rancher-5875cfdb5f-fwlf7                                  1/1     Running     1 (63d ago)   66d     10.42.3.58      kube1         <none>           <none>
cattle-system                     rancher-webhook-684fb7899b-7k9hv                          1/1     Running     1 (63d ago)   76d     10.42.4.83      kube2         <none>           <none>
cert-manager                      cert-manager-69bc6cc8c4-hg9tm                             1/1     Running     1 (63d ago)   66d     10.42.0.47      kubemaster1   <none>           <none>
cert-manager                      cert-manager-cainjector-665fb858c-f9677                   1/1     Running     3 (55d ago)   66d     10.42.0.46      kubemaster1   <none>           <none>
cert-manager                      cert-manager-webhook-5f9f87f558-2m8gb                     1/1     Running     1 (63d ago)   66d     10.42.0.44      kubemaster1   <none>           <none>
default                           nfs-subdir-external-provisioner-695f7c8c5f-5r659          1/1     Running     3 (55d ago)   66d     10.42.0.37      kubemaster1   <none>           <none>
kube-system                       cloud-controller-manager-kubemaster1                      1/1     Running     5 (55d ago)   77d     172.18.232.31   kubemaster1   <none>           <none>
kube-system                       cloud-controller-manager-kubemaster2                      1/1     Running     3 (63d ago)   76d     172.18.232.32   kubemaster2   <none>           <none>
kube-system                       cloud-controller-manager-kubemaster3                      1/1     Running     6 (63d ago)   76d     172.18.232.33   kubemaster3   <none>           <none>
kube-system                       etcd-kubemaster1                                          1/1     Running     2             77d     172.18.232.31   kubemaster1   <none>           <none>
kube-system                       etcd-kubemaster2                                          1/1     Running     2             76d     172.18.232.32   kubemaster2   <none>           <none>
kube-system                       etcd-kubemaster3                                          1/1     Running     6             76d     172.18.232.33   kubemaster3   <none>           <none>
kube-system                       helm-install-rke2-canal-4d5w7                             0/1     Completed   0             77d     172.18.232.31   kubemaster1   <none>           <none>
kube-system                       helm-install-rke2-coredns-nglj8                           0/1     Completed   0             77d     172.18.232.31   kubemaster1   <none>           <none>
kube-system                       helm-install-rke2-ingress-nginx-j7sr9                     0/1     Completed   0             71d     <none>          kube2         <none>           <none>
kube-system                       helm-install-rke2-metrics-server-x6c7n                    0/1     Completed   0             77d     <none>          kubemaster1   <none>           <none>
kube-system                       helm-install-rke2-snapshot-controller-crd-r9pmj           0/1     Completed   0             77d     <none>          kubemaster1   <none>           <none>
kube-system                       helm-install-rke2-snapshot-controller-hnfk6               0/1     Completed   0             77d     <none>          kubemaster1   <none>           <none>
kube-system                       helm-install-rke2-snapshot-validation-webhook-hpq54       0/1     Completed   0             77d     <none>          kubemaster1   <none>           <none>
kube-system                       kube-apiserver-kubemaster1                                1/1     Running     3             77d     172.18.232.31   kubemaster1   <none>           <none>
kube-system                       kube-apiserver-kubemaster2                                1/1     Running     2             76d     172.18.232.32   kubemaster2   <none>           <none>
kube-system                       kube-apiserver-kubemaster3                                1/1     Running     4             76d     172.18.232.33   kubemaster3   <none>           <none>
kube-system                       kube-controller-manager-kubemaster1                       1/1     Running     6 (55d ago)   77d     172.18.232.31   kubemaster1   <none>           <none>
kube-system                       kube-controller-manager-kubemaster2                       1/1     Running     3 (63d ago)   76d     172.18.232.32   kubemaster2   <none>           <none>
kube-system                       kube-controller-manager-kubemaster3                       1/1     Running     6 (63d ago)   76d     172.18.232.33   kubemaster3   <none>           <none>
kube-system                       kube-proxy-kube1                                          1/1     Running     1 (63d ago)   66d     172.18.232.41   kube1         <none>           <none>
kube-system                       kube-proxy-kube2                                          1/1     Running     0             63d     172.18.232.42   kube2         <none>           <none>
kube-system                       kube-proxy-kube3                                          1/1     Running     1 (63d ago)   71d     172.18.232.43   kube3         <none>           <none>
kube-system                       kube-proxy-kubemaster1                                    1/1     Running     2 (63d ago)   77d     172.18.232.31   kubemaster1   <none>           <none>
kube-system                       kube-proxy-kubemaster2                                    1/1     Running     1 (63d ago)   76d     172.18.232.32   kubemaster2   <none>           <none>
kube-system                       kube-proxy-kubemaster3                                    1/1     Running     3 (63d ago)   76d     172.18.232.33   kubemaster3   <none>           <none>
kube-system                       kube-scheduler-kubemaster1                                1/1     Running     5 (55d ago)   77d     172.18.232.31   kubemaster1   <none>           <none>
kube-system                       kube-scheduler-kubemaster2                                1/1     Running     1 (63d ago)   76d     172.18.232.32   kubemaster2   <none>           <none>
kube-system                       kube-scheduler-kubemaster3                                1/1     Running     3 (63d ago)   76d     172.18.232.33   kubemaster3   <none>           <none>
kube-system                       kube-state-metrics-b84df799-zzrkv                         1/1     Running     0             61d     10.42.5.84      kube3         <none>           <none>
kube-system                       rke2-canal-4dhmr                                          2/2     Running     6 (63d ago)   76d     172.18.232.33   kubemaster3   <none>           <none>
kube-system                       rke2-canal-blvnm                                          2/2     Running     4 (63d ago)   76d     172.18.232.41   kube1         <none>           <none>
kube-system                       rke2-canal-dwf7x                                          2/2     Running     4 (63d ago)   77d     172.18.232.31   kubemaster1   <none>           <none>
kube-system                       rke2-canal-mbd44                                          2/2     Running     2 (63d ago)   76d     172.18.232.32   kubemaster2   <none>           <none>
kube-system                       rke2-canal-rj7vr                                          2/2     Running     2 (63d ago)   76d     172.18.232.42   kube2         <none>           <none>
kube-system                       rke2-canal-wnf8s                                          2/2     Running     4 (63d ago)   76d     172.18.232.43   kube3         <none>           <none>
kube-system                       rke2-coredns-rke2-coredns-5bd4c9d888-nqj7f                1/1     Running     1 (63d ago)   63d     10.42.4.84      kube2         <none>           <none>
kube-system                       rke2-coredns-rke2-coredns-5bd4c9d888-th49d                1/1     Running     1 (63d ago)   63d     10.42.5.72      kube3         <none>           <none>
kube-system                       rke2-coredns-rke2-coredns-autoscaler-b49765765-wrgbs      1/1     Running     2 (63d ago)   77d     10.42.0.45      kubemaster1   <none>           <none>
kube-system                       rke2-ingress-nginx-controller-4659b                       1/1     Running     1 (63d ago)   66d     10.42.4.85      kube2         <none>           <none>
kube-system                       rke2-ingress-nginx-controller-7b4tj                       1/1     Running     1 (63d ago)   71d     10.42.0.41      kubemaster1   <none>           <none>
kube-system                       rke2-ingress-nginx-controller-7k6rx                       1/1     Running     1 (63d ago)   66d     10.42.5.73      kube3         <none>           <none>
kube-system                       rke2-ingress-nginx-controller-grq7s                       1/1     Running     2 (63d ago)   71d     10.42.3.60      kube1         <none>           <none>
kube-system                       rke2-ingress-nginx-controller-lfm2c                       1/1     Running     1 (63d ago)   66d     10.42.1.25      kubemaster2   <none>           <none>
kube-system                       rke2-ingress-nginx-controller-p2lmw                       1/1     Running     1 (63d ago)   66d     10.42.2.27      kubemaster3   <none>           <none>
kube-system                       rke2-metrics-server-655477f655-npqqw                      1/1     Running     2 (63d ago)   77d     10.42.0.40      kubemaster1   <none>           <none>
kube-system                       rke2-snapshot-controller-59cc9cd8f4-kckmc                 1/1     Running     5 (55d ago)   77d     10.42.0.48      kubemaster1   <none>           <none>
kube-system                       rke2-snapshot-validation-webhook-54c5989b65-6tgk8         1/1     Running     2 (63d ago)   77d     10.42.0.43      kubemaster1   <none>           <none>
metallb-system                    controller-7fdcdf8975-r59br                               1/1     Running     1 (63d ago)   66d     10.42.0.42      kubemaster1   <none>           <none>
metallb-system                    speaker-b8zvz                                             1/1     Running     4 (63d ago)   66d     172.18.232.41   kube1         <none>           <none>
metallb-system                    speaker-fc7ng                                             1/1     Running     2 (63d ago)   66d     172.18.232.42   kube2         <none>           <none>
metallb-system                    speaker-ff7m6                                             1/1     Running     1 (63d ago)   71d     172.18.232.31   kubemaster1   <none>           <none>
metallb-system                    speaker-mknxx                                             1/1     Running     1 (63d ago)   66d     172.18.232.33   kubemaster3   <none>           <none>
metallb-system                    speaker-n2x8f                                             1/1     Running     2 (63d ago)   66d     172.18.232.43   kube3         <none>           <none>
metallb-system                    speaker-wccxx                                             1/1     Running     1 (63d ago)   66d     172.18.232.32   kubemaster2   <none>           <none>
minecraft-dad                     minecraft-dad-fc6b9c586-8tr6t                             1/1     Running     1 (63d ago)   66d     10.42.3.63      kube1         <none>           <none>
minecraft-dad                     minecraft-dad-fc6b9c586-ws57z                             0/1     Completed   0             69d     <none>          kube2         <none>           <none>
minecraft-family                  minecraft-family-65fd7b94b6-xzzl8                         1/1     Running     1 (63d ago)   66d     10.42.4.86      kube2         <none>           <none>
minecraft-momdad-v1               minecraft-momdad-v1-5b9fb75c56-bj9k4                      1/1     Running     1 (63d ago)   66d     10.42.1.27      kubemaster2   <none>           <none>
minecraft-momdad-v2               minecraft-momdad-v2-58888bfdc5-qgpgk                      1/1     Running     0             50d     10.42.5.106     kube3         <none>           <none>
monitoring                        grafana-569d66d56c-t92tq                                  1/1     Running     0             61d     10.42.3.101     kube1         <none>           <none>
monitoring                        prometheus-6d89f8798-6zm65                                1/1     Running     0             55d     10.42.3.117     kube1         <none>           <none>
monitoring                        prometheus-snmp-exporter-7b46dd9f8d-9lhj8                 1/1     Running     0             54d     10.42.3.121     kube1         <none>           <none>
teslamate                         database-0                                                1/1     Running     0             3d13h   10.42.5.108     kube3         <none>           <none>
teslamate                         mosquitto-b66b8bbc8-pl76z                                 1/1     Running     0             3d13h   10.42.3.127     kube1         <none>           <none>
teslamate                         teslamate-5d7ddd77cd-r6sb6                                1/1     Running     0             3d13h   10.42.3.128     kube1         <none>           <none>
unifi                             unifi-controller-7bf7646c5b-6zv2w                         1/1     Running     1 (63d ago)   66d     10.42.3.64      kube1         <none>           <none>
NAMESPACE                         NAME                                     READY   UP-TO-DATE   AVAILABLE   AGE
cattle-fleet-local-system         fleet-agent                              1/1     1            1           63d
cattle-fleet-system               fleet-controller                         1/1     1            1           76d
cattle-fleet-system               gitjob                                   1/1     1            1           76d
cattle-monitoring-system          pushprox-kube-controller-manager-proxy   1/1     1            1           61d
cattle-monitoring-system          pushprox-kube-etcd-proxy                 1/1     1            1           61d
cattle-monitoring-system          pushprox-kube-proxy-proxy                1/1     1            1           61d
cattle-monitoring-system          pushprox-kube-scheduler-proxy            1/1     1            1           61d
cattle-monitoring-system          rancher-monitoring-grafana               1/1     1            1           61d
cattle-monitoring-system          rancher-monitoring-kube-state-metrics    1/1     1            1           61d
cattle-monitoring-system          rancher-monitoring-operator              1/1     1            1           61d
cattle-monitoring-system          rancher-monitoring-prometheus-adapter    1/1     1            1           61d
cattle-provisioning-capi-system   capi-controller-manager                  1/1     1            1           76d
cattle-system                     rancher                                  3/3     3            3           76d
cattle-system                     rancher-webhook                          1/1     1            1           76d
cert-manager                      cert-manager                             1/1     1            1           76d
cert-manager                      cert-manager-cainjector                  1/1     1            1           76d
cert-manager                      cert-manager-webhook                     1/1     1            1           76d
default                           nfs-subdir-external-provisioner          1/1     1            1           75d
kube-system                       kube-state-metrics                       1/1     1            1           62d
kube-system                       rke2-coredns-rke2-coredns                2/2     2            2           77d
kube-system                       rke2-coredns-rke2-coredns-autoscaler     1/1     1            1           77d
kube-system                       rke2-metrics-server                      1/1     1            1           77d
kube-system                       rke2-snapshot-controller                 1/1     1            1           77d
kube-system                       rke2-snapshot-validation-webhook         1/1     1            1           77d
metallb-system                    controller                               1/1     1            1           71d
minecraft-dad                     minecraft-dad                            1/1     1            1           69d
minecraft-family                  minecraft-family                         1/1     1            1           69d
minecraft-momdad-v1               minecraft-momdad-v1                      1/1     1            1           69d
minecraft-momdad-v2               minecraft-momdad-v2                      1/1     1            1           69d
monitoring                        grafana                                  1/1     1            1           61d
monitoring                        prometheus                               1/1     1            1           61d
monitoring                        prometheus-snmp-exporter                 1/1     1            1           59d
teslamate                         mosquitto                                1/1     1            1           3d13h
teslamate                         teslamate                                1/1     1            1           3d13h
unifi                             unifi-controller                         1/1     1            1           71d
NAMESPACE                         NAME                                          TYPE           CLUSTER-IP      EXTERNAL-IP      PORT(S)                                                                                                                                   AGE
cattle-fleet-system               gitjob                                        ClusterIP      10.43.255.37    <none>           80/TCP                                                                                                                                    76d
cattle-monitoring-system          alertmanager-operated                         ClusterIP      None            <none>           9093/TCP,9094/TCP,9094/UDP                                                                                                                61d
cattle-monitoring-system          prometheus-operated                           ClusterIP      None            <none>           9090/TCP                                                                                                                                  61d
cattle-monitoring-system          pushprox-kube-controller-manager-client       ClusterIP      10.43.18.5      <none>           10257/TCP                                                                                                                                 61d
cattle-monitoring-system          pushprox-kube-controller-manager-proxy        ClusterIP      10.43.69.254    <none>           8080/TCP                                                                                                                                  61d
cattle-monitoring-system          pushprox-kube-etcd-client                     ClusterIP      10.43.224.255   <none>           2381/TCP                                                                                                                                  61d
cattle-monitoring-system          pushprox-kube-etcd-proxy                      ClusterIP      10.43.5.73      <none>           8080/TCP                                                                                                                                  61d
cattle-monitoring-system          pushprox-kube-proxy-client                    ClusterIP      10.43.35.85     <none>           10249/TCP                                                                                                                                 61d
cattle-monitoring-system          pushprox-kube-proxy-proxy                     ClusterIP      10.43.133.123   <none>           8080/TCP                                                                                                                                  61d
cattle-monitoring-system          pushprox-kube-scheduler-client                ClusterIP      10.43.22.79     <none>           10259/TCP                                                                                                                                 61d
cattle-monitoring-system          pushprox-kube-scheduler-proxy                 ClusterIP      10.43.211.154   <none>           8080/TCP                                                                                                                                  61d
cattle-monitoring-system          rancher-monitoring-alertmanager               ClusterIP      10.43.208.37    <none>           9093/TCP                                                                                                                                  61d
cattle-monitoring-system          rancher-monitoring-grafana                    ClusterIP      10.43.31.231    <none>           80/TCP                                                                                                                                    61d
cattle-monitoring-system          rancher-monitoring-kube-state-metrics         ClusterIP      10.43.179.151   <none>           8080/TCP                                                                                                                                  61d
cattle-monitoring-system          rancher-monitoring-operator                   ClusterIP      10.43.47.125    <none>           443/TCP                                                                                                                                   61d
cattle-monitoring-system          rancher-monitoring-prometheus                 ClusterIP      10.43.16.84     <none>           9090/TCP                                                                                                                                  61d
cattle-monitoring-system          rancher-monitoring-prometheus-adapter         ClusterIP      10.43.222.103   <none>           443/TCP                                                                                                                                   61d
cattle-monitoring-system          rancher-monitoring-prometheus-node-exporter   ClusterIP      10.43.213.42    <none>           9796/TCP                                                                                                                                  61d
cattle-provisioning-capi-system   capi-webhook-service                          ClusterIP      10.43.172.116   <none>           443/TCP                                                                                                                                   76d
cattle-system                     rancher                                       ClusterIP      10.43.101.199   <none>           80/TCP,443/TCP                                                                                                                            76d
cattle-system                     rancher-webhook                               ClusterIP      10.43.50.9      <none>           443/TCP                                                                                                                                   76d
cert-manager                      cert-manager                                  ClusterIP      10.43.50.135    <none>           9402/TCP                                                                                                                                  76d
cert-manager                      cert-manager-webhook                          ClusterIP      10.43.196.128   <none>           443/TCP                                                                                                                                   76d
default                           kubernetes                                    ClusterIP      10.43.0.1       <none>           443/TCP                                                                                                                                   77d
kube-system                       kube-state-metrics                            ClusterIP      10.43.245.11    <none>           8080/TCP                                                                                                                                  62d
kube-system                       kube-state-metrics-loadbalancer               LoadBalancer   10.43.136.150   172.18.232.243   8080:31057/TCP                                                                                                                            61d
kube-system                       pushprox-ingress-nginx-client                 ClusterIP      10.43.251.8     <none>           10254/TCP                                                                                                                                 62d
kube-system                       rancher-monitoring-coredns                    ClusterIP      None            <none>           9153/TCP                                                                                                                                  62d
kube-system                       rancher-monitoring-kubelet                    ClusterIP      None            <none>           10250/TCP,10255/TCP,4194/TCP                                                                                                              76d
kube-system                       rke2-coredns-rke2-coredns                     ClusterIP      10.43.0.10      <none>           53/UDP,53/TCP                                                                                                                             77d
kube-system                       rke2-coredns-rke2-coredns-loadbalancer        LoadBalancer   10.43.76.102    172.18.232.247   53:32045/UDP,53:32045/TCP                                                                                                                 63d
kube-system                       rke2-ingress-nginx-controller                 LoadBalancer   10.43.95.121    172.18.232.250   80:30709/TCP,443:31605/TCP                                                                                                                71d
kube-system                       rke2-ingress-nginx-controller-admission       ClusterIP      10.43.130.173   <none>           443/TCP                                                                                                                                   77d
kube-system                       rke2-metrics-server                           ClusterIP      10.43.116.249   <none>           443/TCP                                                                                                                                   77d
kube-system                       rke2-snapshot-validation-webhook              ClusterIP      10.43.126.227   <none>           443/TCP                                                                                                                                   77d
metallb-system                    metallb-webhook-service                       ClusterIP      10.43.200.4     <none>           443/TCP                                                                                                                                   71d
minecraft-dad                     minecraft-dad                                 ClusterIP      10.43.95.75     <none>           19132/UDP                                                                                                                                 69d
minecraft-dad                     minecraft-dad-loadbalancer                    LoadBalancer   10.43.181.236   172.18.232.253   19132:32317/UDP                                                                                                                           69d
minecraft-family                  minecraft-family                              ClusterIP      10.43.248.239   <none>           19132/UDP                                                                                                                                 69d
minecraft-family                  minecraft-family-loadbalancer                 LoadBalancer   10.43.242.184   172.18.232.252   19132:31649/UDP                                                                                                                           69d
minecraft-momdad-v1               minecraft-momdad-v1                           ClusterIP      10.43.67.30     <none>           19132/UDP                                                                                                                                 69d
minecraft-momdad-v1               minecraft-momdad-v1-loadbalancer              LoadBalancer   10.43.157.166   172.18.232.254   19132:30144/UDP                                                                                                                           69d
minecraft-momdad-v2               minecraft-momdad-v2                           ClusterIP      10.43.236.200   <none>           19132/UDP                                                                                                                                 69d
minecraft-momdad-v2               minecraft-momdad-v2-loadbalancer              LoadBalancer   10.43.29.5      172.18.232.240   19132:31751/UDP                                                                                                                           69d
monitoring                        grafana                                       ClusterIP      10.43.44.232    <none>           3000/TCP                                                                                                                                  61d
monitoring                        grafana-loadbalancer                          LoadBalancer   10.43.93.243    172.18.232.242   80:30507/TCP                                                                                                                              61d
monitoring                        prometheus                                    ClusterIP      10.43.8.125     <none>           9090/TCP                                                                                                                                  61d
monitoring                        prometheus-loadbalancer                       LoadBalancer   10.43.142.173   172.18.232.241   80:32400/TCP                                                                                                                              61d
monitoring                        prometheus-snmp-exporter                      ClusterIP      10.43.54.81     <none>           9116/TCP                                                                                                                                  59d
monitoring                        prometheus-snmp-exporter-web                  LoadBalancer   10.43.226.158   172.18.232.244   80:32168/TCP                                                                                                                              57d
teslamate                         database                                      ClusterIP      None            <none>           5432/TCP                                                                                                                                  3d13h
teslamate                         mosquitto                                     ClusterIP      10.43.219.5     <none>           1883/TCP                                                                                                                                  3d13h
teslamate                         teslamate                                     LoadBalancer   10.43.186.189   172.18.232.245   4000:32164/TCP                                                                                                                            3d13h
unifi                             unifi-controller                              ClusterIP      10.43.28.35     <none>           8443/TCP,3478/UDP,10001/UDP,8080/TCP,1900/UDP,8843/TCP,8880/TCP,6789/TCP,5514/UDP                                                         71d
unifi                             unifi-controller-loadbalancer                 LoadBalancer   10.43.144.6     172.18.232.251   8443:31130/TCP,3478:32239/UDP,10001:30756/UDP,8080:31586/TCP,1900:31182/UDP,8843:30713/TCP,8880:30175/TCP,6789:31335/TCP,5514:30556/UDP   71d
mikeb@Mikes-Laptop ~ % ubectl get storageclasses
zsh: command not found: ubectl
mikeb@Mikes-Laptop ~ % kubectl get storageclasses
NAME         PROVISIONER                                     RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
nfs-client   cluster.local/nfs-subdir-external-provisioner   Delete          Immediate           true                   75d


-------------
example yaml:
-------------
apiVersion: v1
kind: Service
metadata:
  name: zabbix-web
  labels:
    app: zabbix
spec:
  ports:
  - port: 80
    targetPort: 80
  selector:
    name: zabbix-web
---
apiVersion: v1
kind: Service
metadata:
  name: zabbix-db
  labels:
    app: zabbix
    tier: db
spec:
  ports:
  - port: 3306
    targetPort: 3306
    name: zabbix-db
  selector:
    name: zabbix-db
---
apiVersion: v1
kind: Service
metadata:
  name: zabbix-server
  labels:
    app: zabbix
spec:
  ports:
  - port: 10051
    targetPort: 10051
    name: zabbix-trapper
  - port: 10052
    targetPort: 10052
    name: zabbix-jmx
  selector:
    name: zabbix-server
---
apiVersion: v1
kind: ReplicationController
metadata:
  name: zabbix-web
  labels:
    app: zabbix
    tier: frontend
spec:
  replicas: 3
  template:
    metadata:
      labels:
        name: zabbix-web
        app: zabbix
    spec:
      containers:
        - name: zabbix-web
          image: monitoringartist/zabbix-xxl:latest
          ports:
          - containerPort: 80
          env:
          - name: ZS_DBUser
            value: zabbix
          - name: ZS_DBPassword
            value: my_password
          - name: ZS_DBHost
            value: zabbix-db
          - name: ZW_ZBX_SERVER
            value: zabbix-server
          - name: ZS_enabled
            value: "false"
          - name: ZA_enabled
            value: "false"
          - name: ZW_enabled
            value: "true"
---
apiVersion: v1
kind: ReplicationController
metadata:
  name: zabbix-db
  labels:
    app: zabbix
    tier: zabbix-db
spec:
  replicas: 1
  template:
    metadata:
      labels:
        name: zabbix-db
        app: zabbix
        tier: zabbix-db
    spec:
      containers:
        - name: zabbix-db
          image: monitoringartist/zabbix-db-mariadb
          ports:
          - containerPort: 3306
            name: mariadb
          env:
          - name: MARIADB_USER
            value: zabbix
          - name: MARIADB_PASS
            value: my_password
          volumeMounts:
          - name: zabbix-db-storage
            mountPath: /var/lib/mysql
      volumes:
      - name: zabbix-db-storage
        emptyDir:
          medium: Memory
---
apiVersion: v1
kind: ReplicationController
metadata:
  name: zabbix-server
  labels:
    app: zabbix
spec:
  replicas: 1
  template:
    metadata:
      labels:
        name: zabbix-server
        app: zabbix
    spec:
      containers:
        - name: zabbix-server
          image: monitoringartist/zabbix-xxl:latest
          ports:
          - containerPort: 162
            name: snmptrapd
          - containerPort: 10051
            name: zabbix-trapper
          - containerPort: 10052
            name: zabbix-jmx
          env:
          - name: ZS_DBUser
            value: zabbix
          - name: ZS_DBPassword
            value: my_password
          - name: ZS_DBHost
            value: zabbix-db
          - name: ZS_enabled
            value: "true"
          - name: ZA_enabled
            value: "true"
          - name: ZW_enabled
            value: "false"
          - name: SNMPTRAP_enabled
            value: "true"